
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />

  <link rel="icon" href="logo.ico">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bosco Jones Wallet - PIX com Taxa</title>
  <style>
    body {
      margin: 0;
      background-color: #0d1117;
      color: #c9d1d9;
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    h1, h2 {
      color: #00ff00;
    }
    .transaction-form {
      background-color: #161b22;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 20px;
    }
    label {
      display: block;
      margin-top: 10px;
    }
    input {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border: none;
      border-radius: 5px;
      background-color: #0d1117;
      color: #c9d1d9;
    }
    button {
      margin-top: 15px;
      padding: 10px 15px;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    button:hover {
      background-color: #388e3c;
    }
    #pix-qrcode, #tax-qrcode {
      text-align: center;
      margin-top: 20px;
    }
    img.qr {
      margin: 10px;
      border: 2px solid #333;
      border-radius: 10px;
    }
    .history {
      background-color: #1c2128;
      padding: 15px;
      border-radius: 8px;
    }
    .history p {
      margin: 5px 0;
    }
  </style>
</head>
<body>

  <h1>Carteira Bosco Jones</h1>
  <p>Transações com envio automático de 5% para PIX: <strong>48761013889</strong></p>

  <form id="pix-form" class="transaction-form" autocomplete="off">
    <label for="pix-amount">Valor da Transação (R$):</label>
    <input type="number" id="pix-amount" min="0.01" step="0.01" required placeholder="Ex: 200.00" />

    <label for="pix-desc">Descrição:</label>
    <input type="text" id="pix-desc" placeholder="Ex: Compra de plano" />

    <button type="button" onclick="generatePix()">Gerar QR Code PIX</button>
  </form>

  <div id="pix-qrcode"></div>
  <div id="tax-qrcode"></div>

  <h2>Histórico de Transações</h2>
  <div class="history" id="history"></div>

  <script>
    function appendHistory(text) {
      const history = document.getElementById('history');
      const entry = document.createElement('p');
      entry.textContent = text;
      history.prepend(entry);
    }

    function generatePix() {
      const amount = parseFloat(document.getElementById('pix-amount').value);
      const description = document.getElementById('pix-desc').value || "Pagamento PIX";
      const chavePix = "suachave@pix.com"; // Substitua pela sua chave real
      const chaveTaxa = "48761013889";

      if (!amount || isNaN(amount)) {
        alert("Informe um valor válido para a transação.");
        return;
      }

      const taxAmount = (amount * 0.05).toFixed(2);
      const mainAmount = (amount - taxAmount).toFixed(2);

      // Criação do payload (simples, sem CRC)
      const mainPayload = `00020126580014BR.GOV.BCB.PIX0136${chavePix}520400005303986540${mainAmount}5802BR5913BOSCO JONES6009SAO PAULO62140510TXID12346304`;
      const taxPayload = `00020126580014BR.GOV.BCB.PIX013648761013889520400005303986540${taxAmount}5802BR5910PIX TAXA6009SAO PAULO62140510TXIDTAXA6304`;

      // Mostra QR Code do pagamento principal
      const pixQR = document.getElementById('pix-qrcode');
      pixQR.innerHTML = "<h3>Pagamento Principal:</h3>";
      const img1 = document.createElement('img');
      img1.src = `https://chart.googleapis.com/chart?cht=qr&chl=${encodeURIComponent(mainPayload)}&chs=250x250&chld=M|0`;
      img1.className = "qr";
      pixQR.appendChild(img1);

      // Mostra QR Code da taxa de 5%
      const taxQR = document.getElementById('tax-qrcode');
      taxQR.innerHTML = "<h3>Taxa Automática (5%):</h3>";
      const img2 = document.createElement('img');
      img2.src = `https://chart.googleapis.com/chart?cht=qr&chl=${encodeURIComponent(taxPayload)}&chs=200x200&chld=M|0`;
      img2.className = "qr";
      taxQR.appendChild(img2);

      // Histórico
      appendHistory(`Transação de R$ ${mainAmount} enviada com taxa de R$ ${taxAmount} para ${chaveTaxa}.`);
    }
  </script>

</body>
</html>
